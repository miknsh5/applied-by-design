"use strict";angular.module("appliedByDesignApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/services",{templateUrl:"views/services.html",controller:"ServicesCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).when("/blog",{templateUrl:"views/blog/index.html"}).when("/routemap",{templateUrl:"views/routemap.html",controller:"RoutemapCtrl",resolve:{fleetRouteData:function(a,b){var c=b.defer();return a({method:"GET",url:"images/full-data-model.json"}).success(function(a){c.resolve(a)}).error(function(a){c.reject(a),console.log("Resolve Error: data not loaded!")}),c.promise}}}).otherwise({redirectTo:"/"})}]),angular.module("appliedByDesignApp").controller("MainCtrl",function(){screen.width>1e3&&skrollr.init({forceHeight:!1,smoothScrolling:!0}),$("#nav-arrow-1").click(function(){$.scrollTo("#strategy-anchor",{duration:"medium"})}),$("#nav-arrow-2").click(function(){$.scrollTo("#design-anchor",{duration:"medium"})}),$("#nav-arrow-3").click(function(){$.scrollTo("#development-anchor",{duration:"medium"})}),$("#nav-arrow-4").click(function(){$.scrollTo("#contact-anchor",{duration:"medium"})});var a;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/BlackBerry/))&&(a=!0)}),angular.module("appliedByDesignApp").controller("AboutCtrl",["$scope",function(a){a.test="hello",screen.width>1e3&&skrollr.init({forceHeight:!1}),$("#nav-arrow-1").click(function(){$.scrollTo("#bio-anchor-1",{duration:"medium"})}),$("#nav-arrow-2").click(function(){$.scrollTo("#bio-anchor-2",{duration:"medium"})}),$("#nav-arrow-4").click(function(){$.scrollTo("#contact-anchor",{duration:"medium"})})}]),angular.module("appliedByDesignApp").controller("ServicesCtrl",["$scope",function(a){a.test="hello",screen.width>1e3&&skrollr.init({forceHeight:!1}),$("#nav-arrow-1").click(function(){$.scrollTo("#strategy-anchor",{duration:"medium"})}),$("#nav-arrow-2").click(function(){$.scrollTo("#design-anchor",{duration:"medium"})}),$("#nav-arrow-3").click(function(){$.scrollTo("#development-anchor",{duration:"medium"})}),$("#nav-arrow-4").click(function(){$.scrollTo("#contact-anchor",{duration:"medium"})})}]),angular.module("appliedByDesignApp").controller("ContactCtrl",["$scope",function(a){a.test="hello"}]),angular.module("appliedByDesignApp").controller("RoutemapCtrl",["$scope","fleetRouteData",function(a,b){a.mapWidth=1200,a.mapHeight=700,a.isFinActive=!0,a.isOpsActive=!1,a.isFltActive=!1,a.activeFinanceData=[],a.fleetRouteData=b,a.fleetModels=[{name:"737-400"},{name:"737-700"},{name:"737-800"},{name:"737-900"}],a.financialSummary=[{name:"Total Revenue",val:4.65,currency:!0},{name:"PAX Revenue",val:3.29,currency:!0},{name:"Operating Expense",val:2.09,currency:!0},{name:"RPM",val:24.42,currency:!1},{name:"ASM",val:28.19,currency:!1},{name:"RASM",val:.117,currency:!1},{name:"CASM",val:.074,currency:!1}]}]),angular.module("appliedByDesignApp").directive("worldMap",function(){return{restrict:"E",scope:{width:"=",height:"=",fleetRouteData:"="},link:function(a,b){var c=a.width,d=a.height,e=d3.geo.mercator().scale((c+1)/2/Math.PI).translate([c/2,d/2]).precision(.1),f=d3.geo.path().projection(e).pointRadius(function(a){return[a.radius]}),g=d3.select(b[0]).append("svg").attr("width",c).attr("height",d),h=g.append("g").attr("class","map"),i=g.append("g").attr("class","routes");d3.json("/images/world-50m.json",function(a,b){h.insert("path").datum(topojson.feature(b,b.objects.land)).attr("class","land").attr("d",f),h.insert("path").datum(topojson.mesh(b,b.objects.countries,function(a,b){return a!==b})).attr("class","boundary").attr("d",f)}),a.$watch("fleetRouteData",function(a){console.log("updating routes"),i.selectAll("*").remove(),i.selectAll("route").data(a).enter().append("g").attr("class","route").append("path").datum(function(a){return{type:"LineString",coordinates:[[a.Olon,a.Olat],[a.Dlon,a.Dlat]]}}).attr("class","route").attr("fill","none").attr("stroke","blue").attr("stroke-width",3).attr("d",f)},!0)}}}),angular.module("appliedByDesignApp").filter("byFleetType",function(){return function(a){return"byFleetType filter: "+a}});